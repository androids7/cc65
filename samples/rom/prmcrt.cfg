MEMORY {
    ZP:       start=$0008, size=$001A,          define=yes;
    HEADER:   start=$0000, size=$000C;
    RAM:      start=$0300, size=$7C00,          define=yes;
    ROM:      start=$F000, size=$0800, file=%O, define=yes;
}
SEGMENTS {
    HEADER:   load=HEADER, type=ro;
    STARTUP:  load=RAM,    type=ro,                         optional=yes;
    INIT:     load=RAM,    type=ro,                         optional=yes;
    DRVCODE:  load=RAM,    type=ro,                         optional=yes;
    DRVDATA:  load=RAM,    type=rw,                         optional=yes;
    CODE:     load=ROM,    type=ro;
    RODATA:   load=ROM,    type=ro,             define=yes, optional=yes;
    DATA:     load=RAM,    type=rw                          optional=yes;
    EOD:      load=RAM,    type=rw, align=$100, define=yes;
    BSS:      load=RAM,    type=bss,            define=yes, optional=yes;
    HEAP:     load=RAM,    type=bss,                        optional=yes;
    ZEROPAGE: load=ZP,     type=zp;
}
FEATURES {
    CONDES: segment = INIT,
        type = constructor,
        label = __CONSTRUCTOR_TABLE__,
        count = __CONSTRUCTOR_COUNT__;
    CONDES: segment = RODATA,
        type = destructor,
        label = __DESTRUCTOR_TABLE__,
        count = __DESTRUCTOR_COUNT__;
    CONDES: type = interruptor,
        segment = RODATA,
        label = __INTERRUPTOR_TABLE__,
        count = __INTERRUPTOR_COUNT__;
}
SYMBOLS {
    __STACKSIZE__: type = weak, value = $800; # 2K stack
}
